/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./client/icons/icons.js":
/*!*******************************!*\
  !*** ./client/icons/icons.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LikeIcon: () => (/* binding */ LikeIcon),\n/* harmony export */   commentIcon: () => (/* binding */ commentIcon),\n/* harmony export */   fbicon: () => (/* binding */ fbicon),\n/* harmony export */   liked_icon: () => (/* binding */ liked_icon),\n/* harmony export */   likeicon: () => (/* binding */ likeicon),\n/* harmony export */   likeicon_small: () => (/* binding */ likeicon_small),\n/* harmony export */   searchicon: () => (/* binding */ searchicon),\n/* harmony export */   sendicon: () => (/* binding */ sendicon),\n/* harmony export */   signoutIcon: () => (/* binding */ signoutIcon),\n/* harmony export */   usericon: () => (/* binding */ usericon)\n/* harmony export */ });\nvar likeicon = `<svg fill=\"#000000\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"like\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M7.25,20.12a9.47,9.47,0,0,0,4,.88h4.2a4,4,0,0,0,3.88-3l1.62-6.48A2,2,0,0,0,19,9H16a31.13,31.13,0,0,0,.12-3.77A2.28,2.28,0,0,0,13.82,3h-.05a2.2,2.2,0,0,0-2.15,1.72c-.36,1.5-.74,2.83-1.11,3.92A2,2,0,0,1,8.62,10H7.2\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><rect id=\"secondary\" x=\"3\" y=\"9\" width=\"4\" height=\"12\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></rect></g></svg>`;\nvar likeicon_small = `<svg fill=\"#2ca9bc\" width=\"18px\" height=\"18px\" viewBox=\"0 0 24 24\" id=\"like\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\" stroke=\"#2ca9bc\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke=\"#CCCCCC\" stroke-width=\"0.192\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M7.25,20.12a9.47,9.47,0,0,0,4,.88h4.2a4,4,0,0,0,3.88-3l1.62-6.48A2,2,0,0,0,19,9H16a31.13,31.13,0,0,0,.12-3.77A2.28,2.28,0,0,0,13.82,3h-.05a2.2,2.2,0,0,0-2.15,1.72c-.36,1.5-.74,2.83-1.11,3.92A2,2,0,0,1,8.62,10H7.2\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><rect id=\"secondary\" x=\"3\" y=\"9\" width=\"4\" height=\"12\" style=\"fill: none; stroke: ##2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></rect></g></svg>`;\nvar liked_icon = `<svg fill=\"#2ca9bc\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"like\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\" stroke=\"#2ca9bc\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke=\"#CCCCCC\" stroke-width=\"0.192\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M7.25,20.12a9.47,9.47,0,0,0,4,.88h4.2a4,4,0,0,0,3.88-3l1.62-6.48A2,2,0,0,0,19,9H16a31.13,31.13,0,0,0,.12-3.77A2.28,2.28,0,0,0,13.82,3h-.05a2.2,2.2,0,0,0-2.15,1.72c-.36,1.5-.74,2.83-1.11,3.92A2,2,0,0,1,8.62,10H7.2\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><rect id=\"secondary\" x=\"3\" y=\"9\" width=\"4\" height=\"12\" style=\"fill: none; stroke: ##2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></rect></g></svg>`;\n\n\nvar commentIcon = `<svg fill=\"#000000\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"chat-alert\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M18.81,16.23,20,21l-4.95-2.48A9.87,9.87,0,0,1,12,19c-5,0-9-3.58-9-8s4-8,9-8,9,3.58,9,8A7.5,7.5,0,0,1,18.81,16.23Z\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><line id=\"secondary\" x1=\"12\" y1=\"7\" x2=\"12\" y2=\"10\" style=\"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2; stroke: #2ca9bc;\"></line><line id=\"secondary-upstroke\" x1=\"11.95\" y1=\"14.5\" x2=\"12.05\" y2=\"14.5\" style=\"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2; stroke: #2ca9bc;\"></line></g></svg>`;\n\nvar fbicon = `<svg fill=\"#000000\" width=\"64px\" height=\"64px\" viewBox=\"0 0 24 24\" id=\"facebook-circle\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"secondary\" d=\"M16,9H14a2,2,0,0,0-2,2V21\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><line id=\"secondary-2\" data-name=\"secondary\" x1=\"9\" y1=\"14\" x2=\"15\" y2=\"14\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></line><circle id=\"primary\" cx=\"12\" cy=\"12\" r=\"9\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></circle></g></svg>`;\nvar signoutIcon = `<svg fill=\"#000000\" width=\"34px\" height=\"34px\" viewBox=\"0 0 24 24\" id=\"sign-out-alt-2\" data-name=\"Flat Line\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon flat-line\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><rect id=\"secondary\" x=\"3\" y=\"3\" width=\"10\" height=\"18\" rx=\"1\" style=\"fill: #2ca9bc; stroke-width: 2;\"></rect><line id=\"primary\" x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></line><polyline id=\"primary-2\" data-name=\"primary\" points=\"17 16 21 12 17 8\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></polyline><path id=\"primary-3\" data-name=\"primary\" d=\"M13,8V4a1,1,0,0,0-1-1H4A1,1,0,0,0,3,4V20a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V16\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path></g></svg>`;\n\nvar searchicon = `<svg fill=\"#000000\" width=\"34px\" height=\"34px\" viewBox=\"0 0 24 24\" id=\"search\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><line id=\"secondary\" x1=\"21\" y1=\"21\" x2=\"15\" y2=\"15\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></line><circle id=\"primary\" cx=\"10\" cy=\"10\" r=\"7\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></circle></g></svg>`;\nvar sendicon = `<svg fill=\"#000000\" width=\"34px\" height=\"34px\" viewBox=\"0 0 24 24\" id=\"send\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><line id=\"secondary\" x1=\"7\" y1=\"12\" x2=\"11\" y2=\"12\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></line><path id=\"primary\" d=\"M5.44,4.15l14.65,7a1,1,0,0,1,0,1.8l-14.65,7A1,1,0,0,1,4.1,18.54l2.72-6.13a1.06,1.06,0,0,0,0-.82L4.1,5.46A1,1,0,0,1,5.44,4.15Z\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path></g></svg>`;\n\nvar usericon = `<svg fill=\"#000000\" width=\"34px\" height=\"34px\" viewBox=\"0 0 24 24\" id=\"user\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"secondary\" d=\"M9,15h6a5,5,0,0,1,5,5v0a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1v0a5,5,0,0,1,5-5Z\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><circle id=\"primary\" cx=\"12\" cy=\"7\" r=\"4\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></circle></g></svg>`;\n\n\nfunction LikeIcon(post_id, is_liked) {\n    if(is_liked){\n        return `<svg fill=\"#000000\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"like-${post_id}\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M7.25,20.12a9.47,9.47,0,0,0,4,.88h4.2a4,4,0,0,0,3.88-3l1.62-6.48A2,2,0,0,0,19,9H16a31.13,31.13,0,0,0,.12-3.77A2.28,2.28,0,0,0,13.82,3h-.05a2.2,2.2,0,0,0-2.15,1.72c-.36,1.5-.74,2.83-1.11,3.92A2,2,0,0,1,8.62,10H7.2\" style=\"fill: none; stroke: var(--accent); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><rect id=\"secondary\" x=\"3\" y=\"9\" width=\"4\" height=\"12\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></rect></g></svg>`;\n    }else {\n        return `<svg fill=\"#000000\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"like-${post_id}\" data-name=\"Line Color\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon line-color\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"><path id=\"primary\" d=\"M7.25,20.12a9.47,9.47,0,0,0,4,.88h4.2a4,4,0,0,0,3.88-3l1.62-6.48A2,2,0,0,0,19,9H16a31.13,31.13,0,0,0,.12-3.77A2.28,2.28,0,0,0,13.82,3h-.05a2.2,2.2,0,0,0-2.15,1.72c-.36,1.5-.74,2.83-1.11,3.92A2,2,0,0,1,8.62,10H7.2\" style=\"fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></path><rect id=\"secondary\" x=\"3\" y=\"9\" width=\"4\" height=\"12\" style=\"fill: none; stroke: #2ca9bc; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;\"></rect></g></svg>`;\n    }\n}\n\n//# sourceURL=webpack://fbclone/./client/icons/icons.js?");

/***/ }),

/***/ "./client/index.mjs":
/*!**************************!*\
  !*** ./client/index.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icons/icons.js */ \"./client/icons/icons.js\");\n/* harmony import */ var _utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/utils.mjs */ \"./client/utils/utils.mjs\");\n\n\n\nconst token = (0,_utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.getDecodedAuthToken)();\nfunction ProfileMenu() {\n  setTimeout(() => {\n    /* -------------------------------------------------------------------------- */\n    /*                               logout function                              */\n    /* -------------------------------------------------------------------------- */\n    document.getElementById(\"c121b\").addEventListener(\"click\", () => {\n      localStorage.removeItem(\"authToken\");\n      window.location.href = \"/\";\n    });\n    /* -------------------------------------------------------------------------- */\n    /*                             hide or show logout                            */\n    /* -------------------------------------------------------------------------- */\n    const documentProfileButton = document.getElementById(\"c122\");\n    const documentLogoutContainer = document.getElementById(\"c121\");\n\n    documentProfileButton.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      if (documentLogoutContainer.style.display === \"flex\") {\n        documentLogoutContainer.style.display = \"none\";\n      } else {\n        documentLogoutContainer.style.display = \"flex\";\n      }\n    });\n    // Hide documentLogoutContainer when clicking outside\n    document.addEventListener(\"click\", (event) => {\n      if (\n        !documentLogoutContainer.contains(event.target) &&\n        event.target !== documentProfileButton\n      ) {\n        documentLogoutContainer.style.display = \"none\";\n      }\n    });\n  }, 0);\n  return `\n        <div id=\"c122\">\n          ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n        </div>\n        <div id=\"c121\" tabindex=\"0\" style=\"display: none;\">\n          <div id=\"c121a\">\n            ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n            <p id=\"fullname1\">${token.firstname +  ' ' + token.lastname}</p>\n          </div>\n          <div id=\"c121b\">\n            ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.signoutIcon}\n            <p id=\"\">Log Out</p>\n          </div>\n        </div>\n  `;\n}\n\nfunction Nav() {\n  return `\n  <nav id=\"c1\">\n    <div id=\"c11\">\n      ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.fbicon}\n      <div id=\"c111\">\n        ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.searchicon}\n        <input id=\"searchbar\" type=\"text\" />\n      </div>\n    </div>\n    <div id=\"c12\">\n      ${ProfileMenu()}\n    </div>\n  </nav>\n  `;\n}\nasync function handleAddPostRequest(event) {\n  event.preventDefault();\n  const PostsContainer = document.getElementById(\"c222d\");\n  const current_user_id = token.user_id;\n  const content = document.getElementById(\"content\").value;\n\n  let response = await fetch(\"/add-post\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ current_user_id, content }),\n  });\n\n  response = await response.json();\n  \n  let post = {\n    ...response.post,\n    fullname: token.firstname + \" \" + token.lastname,\n  };\n  \n  if (response.success) {\n    PostsContainer.prepend(Post(post, current_user_id));\n  }\n}\n\nfunction PostForm() {\n  const firstname = token.firstname;\n  setTimeout(() => {\n    const form = document.getElementById(\"form\");\n\n    form.addEventListener(\"submit\", (event) => handleAddPostRequest(event));\n  }, 0);\n  return `\n  <div id=\"c221\">\n    ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n    <form id=\"form\" style=\"width: 100%\">\n      <input id=\"content\" type=\"text\" placeholder=\"What's in your mind ${firstname}\" required/>\n      <button style=\"width: fit-content\">Post</button>\n    </form>\n  </div>\n  `;\n}\n\nasync function handleUnlikeRequest(current_user_id, post_id) {\n  const response = await fetch(\"/remove-like\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ current_user_id, post_id }),\n  });\n}\n\nasync function handleLikeRequest(current_user_id, post_id) {\n  let response = await fetch(\"/add-like\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ current_user_id, post_id }),\n  });\n  response = await response.json();\n}\n\nfunction handleLikeCountUI(LikeCountContainer, likeCount, likeicon_small) {\n  let like_many = \"\";\n  if (likeCount > 1) like_many = \"s\";\n  const like_count =\n    likeCount > 0 ? `${likeicon_small} ${likeCount} like${like_many}` : \"\";\n  LikeCountContainer.innerHTML = like_count;\n}\nfunction handleUnlikeUI(likeButton, likeIcon) {\n  likeIcon.style.stroke = \"black\";\n  likeButton.style.color = \"black\";\n}\nfunction handleLikeUI(likeButton, likeIcon) {\n  likeIcon.style.stroke = \"var(--accent)\";\n  likeButton.style.color = \"var(--accent)\";\n}\nfunction CommentButton(post, commentIcon) {\n  setTimeout(() => {\n    const CommentButtonRef = document.getElementById(\n      `comment-button-${post.post_id}`\n    );\n\n    CommentButtonRef.addEventListener(\"click\", () => {\n\n    });\n  }, 0);\n\n  return `\n        <span id=\"comment-button-${post.post_id}\">\n          ${commentIcon}\n          Comment\n        </span>\n  `;\n}\n\nfunction LikeButton(post, current_user_id) {\n  setTimeout(() => {\n    const LikeButtonRef = document.getElementById(\n      `like-button-${post.post_id}`\n    );\n    const LikeIconRef = document.querySelector(\n      `#like-${post.post_id} #primary`\n    );\n    const LikeCountContainer = document.getElementById(\n      `like-count-${post.post_id}`\n    );\n\n    let isLiked = post.is_liked;\n    let likeCount = post.like_count ? parseInt(post.like_count) : 0;\n    LikeButtonRef.addEventListener(\"click\", () => {\n\n      if (isLiked) {\n        handleUnlikeUI(LikeButtonRef, LikeIconRef);\n        isLiked = false;\n        likeCount -= 1;\n        handleLikeCountUI(LikeCountContainer, likeCount, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.likeicon_small);\n        handleUnlikeRequest(current_user_id, post.post_id);\n      } else {\n        handleLikeUI(LikeButtonRef, LikeIconRef);\n        isLiked = true;\n        likeCount += 1;\n        handleLikeCountUI(LikeCountContainer, likeCount, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.likeicon_small);\n        handleLikeRequest(current_user_id, post.post_id);\n      }\n    });\n  }, 0);\n\n  return `\n          <span id=\"like-button-${post.post_id}\" class=\"${\n    post.is_liked ? `liked` : \"\"\n  } like-button\">\n            ${(0,_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.LikeIcon)(post.post_id, post.is_liked)}\n            Like\n          </span>\n  `;\n}\nfunction CommentForm(post, sendicon) {\n  setTimeout(() => {\n    const CommentFormRef = document.getElementById(\n      `comment-form-${post.post_id}`\n    );\n    const CommentsRef = document.getElementById(`comments-${post.post_id}`);\n    // const { comments } = post;\n\n    CommentFormRef.addEventListener(\"submit\", async (event) => {\n      event.preventDefault();\n      const content = document.getElementById(`comment-input-${post.post_id}`).value;\n      const user_id = token.user_id;\n      const post_id = post.post_id;\n\n      let response = await fetch(\"/add-comment\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ content, user_id, post_id }),\n      });\n    \n      response = await response.json();\n\n      const div = document.createElement('div');\n      div.innerHTML = `\n        ${Comment(response, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon)}\n      `\n      CommentsRef.prepend(div)\n    });\n  }, 0);\n\n  return `\n        <form id=\"comment-form-${post.post_id}\" class=\"comment-form\">\n          <input id=\"comment-input-${post.post_id}\"\n            style=\"background-color: #d6f1f5\"\n            type=\"text\"\n            placeholder=\"Write a comment...\"\n            required\n          />\n          <button id=\"comment-send-button\">\n            ${sendicon}\n          </button>\n          \n        </form>\n  `;\n}\nfunction Comment(comment, usericon) {\n  return `\n      <div style=\"display: flex; align-items: flex-start; gap: 10px;\">\n        ${usericon}\n        <div class=\"flexcol\">\n          <p id=\"${comment.comment_id}\">${comment.fullname}</p>\n          <p>${comment.content}</p>\n        </div>\n      </div>\n  `\n}\nfunction Comments(comments, usericon) {\n\n  if(comments !== null && comments !== undefined) {\n    const comms = comments.map(comment => `\n      ${Comment(comment, usericon)}\n    `).join('');\n  \n    return comms;\n  }else {\n    return '';\n  }\n  \n}\nfunction Post(post, current_user_id) {\n  const PostContainer = document.createElement(\"div\");\n  PostContainer.id = \"c222\";\n\n  PostContainer.innerHTML = `\n      <div id=\"c222a\">\n        ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n        <p>${post.fullname}</p>\n      </div>\n      <div>\n        <p>\n          ${post.content}\n        </p>\n        <p id=\"like-count-${post.post_id}\" class=\"like-count\">\n          ${(0,_utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.LikeCount)(_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.likeicon_small, post.like_count, post.is_liked)}\n        </p>\n      </div>\n      <hr />\n      <div id=\"c222c\">\n        ${LikeButton(post, current_user_id)}\n        ${CommentButton(post, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.commentIcon)}\n      </div>\n      <hr />\n      <div id=\"c222b\">\n        <div id=\"comments-${post.post_id}\" class=\"flexcol2\">\n          ${Comments(post.comments, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon)}\n          <!-- comments -->\n        </div>\n        <div class=\"flexrow flexrow1\">\n          ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n          ${CommentForm(post, _icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.sendicon)}\n        </div>\n      </div>\n  `;\n  return PostContainer;\n}\nasync function Posts() {\n  queueMicrotask(async () => {\n    const token = (0,_utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.getDecodedAuthToken)();\n    const current_user_id = token.user_id;\n\n    const PostsContainer = document.getElementById(\"c222d\");\n    PostsContainer.innerHTML = \"<div>Loading...</div>\";\n\n    const posts = await (0,_utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.fetchPosts)(current_user_id);\n\n    PostsContainer.innerHTML = \"\";\n    posts.map((post) => {\n      PostsContainer.appendChild(Post(post, current_user_id));\n    });\n  });\n}\n\n// print = nav, grid\n// task que - profile menu\n// micro que = posts\n\nfunction Grid() {\n  return `\n  <div id=\"c2\">\n    <div id=\"c21\">\n      <div id=\"c211\">\n        ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_0__.usericon}\n        <p id=\"fullname2\">${token.firstname + ' ' + token.lastname}</p>\n      </div>\n    </div>\n    <div id=\"c22\">\n      ${PostForm()}\n      <div id=\"c222d\">\n        <!-- posts -->\n      </div>\n    </div>\n  </div>\n  `;\n}\nasync function Test() {\n  console.log(\"test\");\n}\n\nfunction Init() {\n  if (!(0,_utils_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAuthenticated)()) {\n    window.location.href = \"/login\";\n  }\n\n  Posts();\n\n  return `\n    ${Nav()}\n    ${Grid()}\n    `;\n}\n\ndocument.querySelector(\"body\").innerHTML = Init();\n\n\n//# sourceURL=webpack://fbclone/./client/index.mjs?");

/***/ }),

/***/ "./client/utils/utils.mjs":
/*!********************************!*\
  !*** ./client/utils/utils.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LikeCount: () => (/* binding */ LikeCount),\n/* harmony export */   Post: () => (/* binding */ Post),\n/* harmony export */   fetchPosts: () => (/* binding */ fetchPosts),\n/* harmony export */   getDecodedAuthToken: () => (/* binding */ getDecodedAuthToken),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated)\n/* harmony export */ });\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jwt-decode */ \"./node_modules/jwt-decode/build/esm/index.js\");\n/* harmony import */ var _icons_icons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../icons/icons.js */ \"./client/icons/icons.js\");\n\n\n\nfunction isAuthenticated() {\n  const token = localStorage.getItem(\"authToken\");\n\n  if (!token) {\n    return false;\n  }\n\n  try {\n    const decodedToken = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__.jwtDecode)(token);\n    const currentTime = Date.now() / 1000; // current time in seconds\n\n    return decodedToken.exp >= currentTime;\n  } catch (error) {\n    console.error(\"Invalid token:\", error);\n    return false;\n  }\n}\n\nfunction getDecodedAuthToken() {\n  const token = localStorage.getItem(\"authToken\");\n  try {\n    const decodedToken = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__.jwtDecode)(token);\n    return decodedToken;\n  } catch (error) {\n    console.error(\"Invalid token:\", error);\n  }\n}\n\nasync function fetchPosts(user_id) {\n  try {\n    const response = await fetch(`/posts?user_id=${user_id}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const posts = await response.json();\n\n    return posts;\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n}\nfunction LikeCount(small_likeicon, like_count) {\n  let like_many = '';\n  if(like_count > 1) like_many = 's';\n\n  return like_count > 0 ? `\n    ${small_likeicon} ${like_count} like${like_many}\n  ` : '';\n}\n\n\nfunction Post(post) {\n  let style = \"\";\n  if (post.is_liked) {\n    const bigLike = document.getElementById(`like-${post.post_id}`);\n    style = `\n      <style>\n        #like-button-${post.post_id} {\n          color: var(--accent);\n        }\n        #like-${post.post_id} {\n\n        }\n      </style>\n    `;\n  }\n  const postTemplate = `\n    <style>\n      #like-button-${post.post_id} {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        padding: 5px;\n        border-radius: var(--bd-radius);\n        cursor: pointer;\n      }\n      #like-button-${post.post_id}:hover {\n        background: var(--tint);\n        // color: white;\n      }\n      #like-count-${post.post_id} {\n        display: flex;\n        gap: 5px;\n        align-items: center;\n      }\n    </style>\n    <div id=\"c222\">\n      <div id=\"c222a\">\n        ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_1__.usericon}\n        <p>${post.fullname}</p>\n      </div>\n      <div>\n        <p>\n          ${post.content}\n        </p>\n        <p id=\"like-count-${post.post_id}\">\n          ${LikeCount(_icons_icons_js__WEBPACK_IMPORTED_MODULE_1__.likeicon_small, post.like_count, post.is_liked)}\n        </p>\n      </div>\n      <hr />\n      <div id=\"c222c\">\n        <span id=\"like-button-${post.post_id}\">\n          ${(0,_icons_icons_js__WEBPACK_IMPORTED_MODULE_1__.LikeIcon)(post.post_id)}\n          Like\n        </span>\n        <span id=\"comment-button-${post.post_id}\">\n          ${comment}\n          Comment\n        </span>\n      </div>\n      <hr />\n      <div id=\"c222b\">\n        ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_1__.usericon}\n        <form style=\"width: 100%; display: flex; align-items: center\">\n          <input\n            style=\"background-color: #d6f1f5\"\n            type=\"text\"\n            placeholder=\"Write a comment...\"\n          />\n          ${_icons_icons_js__WEBPACK_IMPORTED_MODULE_1__.sendicon}\n        </form>\n      </div>\n    </div>\n  `;\n  return style +  postTemplate;\n}\n\n\n//# sourceURL=webpack://fbclone/./client/utils/utils.mjs?");

/***/ }),

/***/ "./node_modules/jwt-decode/build/esm/index.js":
/*!****************************************************!*\
  !*** ./node_modules/jwt-decode/build/esm/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   jwtDecode: () => (/* binding */ jwtDecode)\n/* harmony export */ });\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n\n\n//# sourceURL=webpack://fbclone/./node_modules/jwt-decode/build/esm/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./client/index.mjs");
/******/ 	
/******/ })()
;